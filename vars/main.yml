---

k0s_main_version: "{{ k0s_version[0:6] }}"

k0s_install_path: /usr/local/bin/k0s/{{ k0s_main_version }}

k0s_delegate_to: localhost

k0s_local_tmp_directory: "{{
  lookup('env', 'CUSTOM_LOCAL_TMP_DIRECTORY') |
  default(lookup('env', 'HOME') ~ '/.cache/ansible/k0s', true) }}/{{ k0s_main_version }}"

k0s_requirements: []

k0s_token_files:
  controller: "{{ k0s_config_dir }}/controller.token"
  worker: "{{ k0s_config_dir }}/worker.token"

k0s_defaults_network:
  pod:
    network_cidr: 10.244.0.0/16
  service:
    ip_range: 10.96.0.0/12
    node_port_range: 30000-32767
  api:
    service_ip: 10.96.0.1
  cluster:
    subnet: 10.96.0
    dns_ip: 10.96.0.10
    domain_name: cluster.local
  vip:
    interface: ""
    address: 172.16.35.9
  lb:
    secure_port: 8443
    api_url: "https://172.16.35.9:8443"
  ingress:
    lb_address: 172.16.35.9

go_arch_map:
  x86_64: 'amd64'
  aarch64: 'arm64'

system_architecture: "{{
  go_arch_map[ansible_architecture] |
  default(ansible_architecture) }}"

systemd_lib_directory: /lib/systemd/system

...
